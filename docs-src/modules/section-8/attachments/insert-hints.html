<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Fig8_4_insert — с подсказками</title>
  <style>
    #tooltip {
      display: none;
      position: absolute;
      background: #fefcbf;
      border: 1px solid #aaa;
      padding: 5px;
      font-size: 14px;
      font-family: sans-serif;
      z-index: 10;
      max-width: 300px;
    }
  </style>
</head>
<body>
  <object id="svgInsert" type="image/svg+xml" data="Fig8_4_insertColor.svg" width="100%" height="800px"></object>
  <div id="tooltip"></div>

  <script>
    const tooltip = document.getElementById('tooltip');
    const svgObject = document.getElementById('svgInsert');

    // ⬇️ Словарь цвет → подсказка
    const colorHints = {
      '#ffcccc': 'Creating left node',
      '#ccffcc': 'Creating right node'
    };

    svgObject.addEventListener('load', () => {
      const svgDoc = svgObject.contentDocument;
      const rects = svgDoc.querySelectorAll('rect');

      rects.forEach(rect => {
        const fill = rect.getAttribute('fill')?.toLowerCase();
        const hint = colorHints[fill];

        if (hint) {
          rect.style.cursor = 'pointer';
          rect.addEventListener('mouseover', (event) => {
            tooltip.innerText = hint;
            tooltip.style.display = 'block';
            tooltip.style.left = event.pageX + 10 + 'px';
            tooltip.style.top = event.pageY + 10 + 'px';
          });
          rect.addEventListener('mouseout', () => {
            tooltip.style.display = 'none';
          });
        }
      });
    });
  </script>
</body>
</html>
